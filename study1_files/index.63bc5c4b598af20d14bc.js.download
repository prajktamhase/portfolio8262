(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1160:function(t,e,r){"use strict";r.d(e,"a",(function(){return v})),r.d(e,"d",(function(){return _})),r.d(e,"g",(function(){return y})),r.d(e,"e",(function(){return w})),r.d(e,"h",(function(){return C})),r.d(e,"f",(function(){return T})),r.d(e,"b",(function(){return O})),r.d(e,"c",(function(){return M}));var o,n=r(5),c=(r(33),r(8),r(35),r(30),r(63)),l=r.n(c),d=r(238),f=r(1161),h=Object(d.b)(),m=function(){return r.e(21).then(r.t.bind(null,1345,7))},v={OPEN:"i8-auth-modal:open",ENSURE_LOGIN:"i8-auth-modal:ensure-login"},_={all:o=o||new Map,on:function(t,e){var i=o.get(t);i?i.push(e):o.set(t,[e])},off:function(t,e){var i=o.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):o.set(t,[]))},emit:function(t,e){var i=o.get(t);i&&i.slice().map((function(t){t(e)})),(i=o.get("*"))&&i.slice().map((function(r){r(t,e)}))}};function y(){_.emit(v.OPEN)}var x=!1;function w(t,e){return k.apply(this,arguments)}function k(){return(k=Object(n.a)(regeneratorRuntime.mark((function t(e,r){var o,n,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!x){t.next=2;break}return t.abrupt("return");case 2:return x=!0,t.next=5,m();case 5:return o=t.sent,n=o.setBaseURL,c=o.AuthModuleImplementation,(0,o.loadTranslations)(r.locale),n("https://auth.icons8.com/api/auth/v1"),t.next=13,c.get();case 13:t.sent.bindStore(e);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(t,e){if("undefined"!=typeof window&&"GTMDataLayer"in window&&window.GTMDataLayer.push({event:t}),h&&"registration"===t&&e){var r="ouch";"landings"!==r&&"icon"!==r||(r="Icons"),l.a.get("https://n8n.icons8.com/webhook/fd78bee7-e230-49a7-9ccc-55e3c954f527",{params:{email:e.email,product:r}})}}var T=h?f.production:f.default,O=function(){return m().then((function(t){return t.I8AuthForm}))},M=function(){return m().then((function(t){return t.I8PasswordResetForm}))}},1161:function(t){t.exports=JSON.parse('{"default":{"AUTH_REDIRECT_URI":"https://api-icons-stage.icons8.com/auth/v1/socials-callback","AUTH_FACEBOOK_CLIENT_ID":"496747381171808","AUTH_FACEBOOK_URL":"https://www.facebook.com/v6.0/dialog/oauth","AUTH_GITHUB_CLIENT_ID":"19f839086b955db0bf2f","AUTH_GITHUB_URL":"https://github.com/login/oauth/authorize","AUTH_GOOGLE_CLIENT_ID":"574833888516-i8s6kb1mha2r5saa5gu6gbt5hnh3g36u.apps.googleusercontent.com","AUTH_GOOGLE_URL":"https://accounts.google.com/o/oauth2/v2/auth","AUTH_MICROSOFT_CLIENT_ID":"059d71f7-f349-4155-8f21-9247f82c4c57","AUTH_MICROSOFT_URL":"https://login.microsoftonline.com/common/oauth2/v2.0/authorize"},"production":{"AUTH_REDIRECT_URI":"https://api-icons.icons8.com/auth/v1/socials-callback","AUTH_FACEBOOK_CLIENT_ID":"496747381171808","AUTH_FACEBOOK_URL":"https://www.facebook.com/v6.0/dialog/oauth","AUTH_GITHUB_CLIENT_ID":"08ad24fe60ec12be209d","AUTH_GITHUB_URL":"https://github.com/login/oauth/authorize","AUTH_GOOGLE_CLIENT_ID":"574833888516-i8s6kb1mha2r5saa5gu6gbt5hnh3g36u.apps.googleusercontent.com","AUTH_GOOGLE_URL":"https://accounts.google.com/o/oauth2/v2/auth","AUTH_MICROSOFT_CLIENT_ID":"059d71f7-f349-4155-8f21-9247f82c4c57","AUTH_MICROSOFT_URL":"https://login.microsoftonline.com/common/oauth2/v2.0/authorize"}}')},1184:function(t,e,r){var content=r(1239);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(7).default)("4bcd2fae",content,!0,{sourceMap:!1})},1185:function(t,e,r){var content=r(1241);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(7).default)("2bc1b6c0",content,!0,{sourceMap:!1})},1186:function(t,e,r){var content=r(1243);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(7).default)("7089af6e",content,!0,{sourceMap:!1})},1187:function(t,e,r){var content=r(1245);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(7).default)("39777f59",content,!0,{sourceMap:!1})},1188:function(t,e,r){var content=r(1247);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(7).default)("e56c52f0",content,!0,{sourceMap:!1})},1189:function(t,e,r){var content=r(1249);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(7).default)("1d45969d",content,!0,{sourceMap:!1})},1190:function(t,e,r){var content=r(1251);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(7).default)("d56ac416",content,!0,{sourceMap:!1})},1238:function(t,e,r){"use strict";r(1184)},1239:function(t,e,r){var o=r(6)((function(i){return i[1]}));o.push([t.i,".ouch__intersection-observer{display:flex;flex-direction:column;height:100%;width:100%}.ouch__intersection-observer-trigger{align-items:center;display:flex;flex-grow:1;justify-content:center;padding:0;width:100%}.ouch__intersection-observer .loader{margin:0 auto}",""]),o.locals={},t.exports=o},1240:function(t,e,r){"use strict";r(1185)},1241:function(t,e,r){var o=r(6)((function(i){return i[1]}));o.push([t.i,".vote-toast[data-v-715fbc54]{background:#4d4d4d!important;border:.5px solid #333;box-shadow:0 0 1px rgba(96,96,96,.31),0 12px 24px -6px rgba(96,96,96,.15)!important;box-sizing:border-box;color:#fff}.vote-toast__icon[data-v-715fbc54]{height:24px;left:16px;position:absolute;top:16px;width:24px}.vote-toast__title[data-v-715fbc54]{margin-bottom:8px}.vote-toast__subtitle[data-v-715fbc54],.vote-toast__title[data-v-715fbc54]{margin-right:36px}.vote-toast__subtitle[data-v-715fbc54]{opacity:.7}.vote-toast__wrapper[data-v-715fbc54]{padding-left:36px}.vote-toast[data-v-715fbc54] .icon--close svg{fill:#828282!important}",""]),o.locals={},t.exports=o},1242:function(t,e,r){"use strict";r(1186)},1243:function(t,e,r){var o=r(6)((function(i){return i[1]}));o.push([t.i,".request__attach[data-v-c01ff61e]{align-items:center;display:flex}.request__attach .icon[data-v-c01ff61e]{height:24px;margin-right:6px;width:24px}.request__controls[data-v-c01ff61e]{display:flex;justify-content:space-between}@media(max-width:768px){.request__controls[data-v-c01ff61e]{flex-direction:column}}.request__controls--right[data-v-c01ff61e]{display:flex}@media(max-width:768px){.request__controls--right[data-v-c01ff61e]{flex-direction:column}}.request__error[data-v-c01ff61e]{background:#f86a6a;border:.5px solid #e12d39;border-radius:4px;color:#fff;display:flex;letter-spacing:-.006em;margin-top:16px;padding:16px}.request__error-icon[data-v-c01ff61e]{height:24px;margin-right:12px;width:24px}.request__fields[data-v-c01ff61e]{background:#f7f7f7;border-radius:8px;margin-bottom:32px;padding:24px;position:relative}@media(max-width:768px){.request__fields[data-v-c01ff61e]{padding:20px}}@media(max-width:480px){.request__fields[data-v-c01ff61e]{margin-bottom:24px}}.request__input-attach[data-v-c01ff61e]{display:none}.request__preview[data-v-c01ff61e]{display:flex;flex-wrap:wrap;margin-bottom:8px}.request__send-request[data-v-c01ff61e]{margin-left:16px}@media(max-width:768px){.request__attach[data-v-c01ff61e],.request__send-request[data-v-c01ff61e]{margin-left:0;margin-top:8px;width:-moz-max-content;width:max-content}}.request[data-v-c01ff61e] .styles-dropdown.request-style{height:40px}.request[data-v-c01ff61e] .styles-dropdown.request-style .active-item{padding:8px!important}.request[data-v-c01ff61e] .styles-dropdown.request-style .active-item{background:#fff;border:1px solid #ebebeb}.request[data-v-c01ff61e] .styles-dropdown.request-style .active-item:hover{background:#f7f7f7}.request[data-v-c01ff61e] .styles-dropdown.request-style .active-item:active,.request[data-v-c01ff61e] .styles-dropdown.request-style .active-item:focus{background:#ebebeb}.request[data-v-c01ff61e] .styles-dropdown.request-style .active-item:active,.request[data-v-c01ff61e] .styles-dropdown.request-style .active-item:focus,.request[data-v-c01ff61e] .styles-dropdown.request-style .active-item:hover{border:1px solid #d9d9d9}.request[data-v-c01ff61e] .styles-dropdown.request-style .active-item .all-styles,.request[data-v-c01ff61e] .styles-dropdown.request-style .active-item .all-styles svg{height:30px!important;width:30px!important}.request[data-v-c01ff61e] .styles-dropdown.request-style .active-item .title{color:#1a1a1a!important;font-size:14px!important}.request[data-v-c01ff61e] .styles-dropdown.request-style .active-item .title{margin-right:8px}@media(max-width:768px){.request[data-v-c01ff61e] .styles-dropdown.request-style .active-item{width:-moz-max-content;width:max-content}}.request[data-v-c01ff61e] .styles-dropdown.request-style .dropdown-content{left:0;max-height:390px;padding:8px;top:calc(100% + 8px)}@media(max-width:980px){.request[data-v-c01ff61e] .styles-dropdown.request-style .dropdown-content{top:8px}}@media(max-width:680px){.request[data-v-c01ff61e] .styles-dropdown.request-style .dropdown-content{border:initial;border-radius:0;bottom:0;left:0;margin:0;max-height:none;position:fixed;right:0;top:0;width:100vw}}.request[data-v-c01ff61e] .styles-dropdown.request-style .dropdown-content .all{display:none}.request[data-v-c01ff61e] .styles-dropdown.request-style .dropdown-content .all-styles{height:30px;width:30px}.request[data-v-c01ff61e] .styles-dropdown.request-style .dropdown-content .all-styles svg{height:100%;width:100%}.request[data-v-c01ff61e] .styles-dropdown.request-style .dropdown-content .styles-dropdown-item{padding:5px 8px}.request[data-v-c01ff61e] .styles-dropdown.request-style .dropdown-content .styles-dropdown-item .item-preview{height:24px;width:24px}.request[data-v-c01ff61e] .styles-dropdown.request-style .dropdown{display:block}.request__textarea[data-v-c01ff61e],.request__title[data-v-c01ff61e]{margin-bottom:16px}.request__title[data-v-c01ff61e]{background:#fff;border-radius:4px;padding:10px 14px;width:100%}.request__title[data-v-c01ff61e]::-moz-placeholder{color:#bdbdbd}.request__title[data-v-c01ff61e]::placeholder{color:#bdbdbd}",""]),o.locals={},t.exports=o},1244:function(t,e,r){"use strict";r(1187)},1245:function(t,e,r){var o=r(6)((function(i){return i[1]}));o.push([t.i,".request-placeholder[data-v-1497461c]{margin-bottom:24px;width:100%}.request-placeholder svg[data-v-1497461c]{width:100%}",""]),o.locals={},t.exports=o},1246:function(t,e,r){"use strict";r(1188)},1247:function(t,e,r){var o=r(6)((function(i){return i[1]}));o.push([t.i,".simplebar-scroll-content[data-v-b911ea4a]{overflow-y:hidden}.post[data-v-b911ea4a]{margin-bottom:24px;position:relative}.post__body[data-v-b911ea4a]{align-items:flex-start;display:flex}.post__designer .text[data-v-b911ea4a]{min-width:-moz-fit-content;min-width:fit-content}.post__footer[data-v-b911ea4a]{color:rgba(0,0,0,.4);display:flex;flex-wrap:wrap}.post__footer>*[data-v-b911ea4a]{margin-bottom:8px}.post__style-icon[data-v-b911ea4a]{border-radius:50%;height:20px;margin-right:6px;width:20px}.post__upvote[data-v-b911ea4a]{background:#fff;border:1px solid rgba(0,0,0,.08);border-radius:8px;cursor:pointer;flex-shrink:0;height:72px;margin-right:24px;padding:0;transition:all .2s ease-out;width:65px}.post__upvote[data-v-b911ea4a]:hover{background:rgba(0,0,0,.03);border:1px solid rgba(0,0,0,.08)}.post__upvote[data-v-b911ea4a]:active,.post__upvote[data-v-b911ea4a]:focus{background:rgba(0,0,0,.08);border:1px solid rgba(0,0,0,.08)}@media(max-width:480px){.post__upvote[data-v-b911ea4a]{height:52px;margin-right:12px;width:37px}}.post__upvote.is-voted[data-v-b911ea4a]{background:#28b351;border-color:#28b351;border-radius:8px;color:#fff}.post__upvote.is-voted-by-me[data-v-b911ea4a]{background:#ffd36f;border:1px solid rgba(0,0,0,.08)}.post__upvote.is-voted-by-me[data-v-b911ea4a]:active,.post__upvote.is-voted-by-me[data-v-b911ea4a]:focus,.post__upvote.is-voted-by-me[data-v-b911ea4a]:hover{background:#f2c34a}.post__upvote.is-done[data-v-b911ea4a]{pointer-events:none}.post__upvote.is-done .post__upvote-icon[data-v-b911ea4a]{height:24px}@media(max-width:480px){.post__upvote.is-done .post__upvote-icon[data-v-b911ea4a]{margin-bottom:0}}.post__upvote-icon[data-v-b911ea4a]{display:block;height:12px;margin:0 auto 4px;width:24px}.post__upvote-icon[data-v-b911ea4a] svg{fill:currentColor;display:block}.post__upvote-count[data-v-b911ea4a]{font-size:18px;font-weight:700;letter-spacing:-.005em;line-height:24px;text-align:center;text-transform:uppercase}.post__upvote-done[data-v-b911ea4a]{display:block;font-size:14px;font-weight:600}@media(max-width:480px){.post__upvote-done[data-v-b911ea4a]{display:none}}.post__content[data-v-b911ea4a]{color:#1a1a1a;display:block;flex:1 1 auto;min-width:0;-webkit-text-decoration:none;text-decoration:none}.post__title[data-v-b911ea4a]{font-size:18px;font-weight:700;letter-spacing:-.005em;margin-bottom:8px;text-overflow:ellipsis;white-space:nowrap;width:100%}.post__detail[data-v-b911ea4a],.post__title[data-v-b911ea4a]{word-wrap:break-word;color:currentColor;display:block;line-height:24px;overflow:hidden;-webkit-text-decoration:none;text-decoration:none}.post__detail[data-v-b911ea4a]{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;font-size:16px;font-weight:400;letter-spacing:-.011em;margin-bottom:12px;max-height:48px;position:relative}.post__packs[data-v-b911ea4a]{margin-right:16px}.post__packs .text[data-v-b911ea4a]{flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.post__packs[data-v-b911ea4a],.post__self[data-v-b911ea4a]{align-items:center;display:flex}.post__self[data-v-b911ea4a]{color:#1a1a1a}.post i[data-v-b911ea4a]{display:block;flex-shrink:0;height:16px;margin-right:6px;width:16px}.post i[data-v-b911ea4a] svg{fill:currentColor}",""]),o.locals={},t.exports=o},1248:function(t,e,r){"use strict";r(1189)},1249:function(t,e,r){var o=r(6)((function(i){return i[1]}));o.push([t.i,".request-search[data-v-3fef11bc]{margin-bottom:16px}@media(max-width:480px){.request-search[data-v-3fef11bc]{margin-bottom:8px}}.request-search__form[data-v-3fef11bc]{margin-bottom:16px;position:relative}.request-search__form[data-v-3fef11bc]:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none'%3E%3Cpath fill='%23333' d='M6.523 1c2.48 0 4.5 2.02 4.5 4.5a4.45 4.45 0 0 1-1 2.793L15 13.27l-.703.71L9.317 9a4.45 4.45 0 0 1-2.794 1c-2.48 0-4.5-2.02-4.5-4.5S4.043 1 6.523 1Zm0 1a3.494 3.494 0 0 0-3.5 3.5c0 1.938 1.563 3.5 3.5 3.5 1.938 0 3.5-1.563 3.5-3.5 0-1.938-1.562-3.5-3.5-3.5Z' opacity='.5'/%3E%3C/svg%3E\");background-position:50%;background-repeat:no-repeat;background-size:16px;bottom:0;content:\"\";left:12px;position:absolute;top:0;width:16px}.request-search__form input[data-v-3fef11bc]{-webkit-appearance:none;-moz-appearance:none;appearance:none;display:block;height:40px;padding:10px 14px 10px 36px;width:100%}.request-search__clear[data-v-3fef11bc]{background:transparent;border:0;bottom:0;cursor:pointer;padding:0;position:absolute;right:6px;top:0;width:30px;z-index:1}.request-search__clear[data-v-3fef11bc] svg{fill:#000;display:block;height:16px;margin:auto;width:16px}.request-search__params[data-v-3fef11bc]{display:flex;flex-wrap:wrap}@media(max-width:480px){.request-search__params[data-v-3fef11bc]{flex-direction:column}}.request-search__param[data-v-3fef11bc]{align-items:center;display:flex;margin-bottom:8px}.request-search__param[data-v-3fef11bc]:not(:last-child){margin-right:16px}@media(max-width:480px){.request-search__param[data-v-3fef11bc]{margin-right:auto}}.request-search__param-name[data-v-3fef11bc]{color:rgba(0,0,0,.4);margin-right:6px}.request-search__param-popup .icon-check[data-v-3fef11bc]{height:16px;width:16px}.request-search__param-popup .item[data-v-3fef11bc]{align-items:center;border-radius:4px;cursor:pointer;display:flex;justify-content:space-between;overflow:hidden;padding:4px 8px;position:relative;text-overflow:ellipsis;white-space:nowrap;width:100%}.request-search__param-popup .item.is-active[data-v-3fef11bc],.request-search__param-popup .item[data-v-3fef11bc]:hover{background:rgba(0,0,0,.03)}.request-search__param-popup .item.is-active[data-v-3fef11bc]{font-weight:600}.request-search__param-popup .item.is-active .is-checked[data-v-3fef11bc]{display:block}.request-search__param-popup .item .is-checked[data-v-3fef11bc]{display:none;height:16px;position:absolute;right:8px;top:6px;width:16px}.request-search__param-popup.assign-popup[data-v-3fef11bc] .popup-content{width:224px}.request-search__param-popup.assign-popup[data-v-3fef11bc] .popup-content-list{padding:8px 0 8px 8px}.request-search__param-popup.assign-popup .item[data-v-3fef11bc]{overflow:hidden;padding:4px 32px 4px 8px;text-overflow:ellipsis;white-space:nowrap}.request-search__param-popup.assign-popup .text[data-v-3fef11bc]{margin-right:6px;max-width:100%;overflow:hidden;text-overflow:ellipsis}.request-search__param-popup .item-divider[data-v-3fef11bc]{border-top:1px solid rgba(0,0,0,.08);margin-bottom:7px;margin-top:8px}.request-search .has-styles[data-v-3fef11bc] .styles-dropdown{border:initial!important}.request-search .has-styles[data-v-3fef11bc] .styles-dropdown .all-styles,.request-search .has-styles[data-v-3fef11bc] .styles-dropdown .all-styles svg{height:30px;width:30px}.request-search .has-styles[data-v-3fef11bc] .styles-dropdown .all-styles+.title{margin-left:5px;margin-right:8px}.request-search .has-styles[data-v-3fef11bc] .styles-dropdown .dropdown-content{background-color:#fff;border:1px solid rgba(29,29,29,.03);border-radius:4px;box-shadow:0 0 1px rgba(96,96,96,.31),0 12px 24px -6px rgba(96,96,96,.15);left:0;max-height:390px;min-width:224px;overflow-y:scroll;padding:8px;position:absolute;top:calc(100% + 8px);width:100%;z-index:11}@media(max-width:680px){.request-search .has-styles[data-v-3fef11bc] .styles-dropdown .dropdown-content{border:initial;border-radius:0;bottom:0;left:auto;margin:0;max-height:none;position:fixed;right:0;top:0}}.request-search .has-styles[data-v-3fef11bc] .styles-dropdown .dropdown-content .all{padding:1px 8px 1px 6px}.request-search .has-styles[data-v-3fef11bc] .styles-dropdown .styles-dropdown-item{padding:5px 8px}.request-search .has-styles[data-v-3fef11bc] .styles-dropdown .styles-dropdown-item .item-preview{background-size:cover;border-radius:50%;height:24px;width:24px}.request-search .has-styles[data-v-3fef11bc] .active-item{background:transparent!important;border:transparent!important;height:20px!important;padding:0!important}.request-search .has-styles[data-v-3fef11bc] .active-item .all-styles,.request-search .has-styles[data-v-3fef11bc] .active-item .item-preview{display:none}.request-search .has-styles[data-v-3fef11bc] .active-item .dropdown.opened{line-height:5px;transform:none}.request-search .has-styles[data-v-3fef11bc] .active-item .title{color:#1a1a1a!important;font-size:14px!important}.request-search .has-styles[data-v-3fef11bc] .active-item .title{margin:0 7px 0 0}.request-search .ouch-checkbox[data-v-3fef11bc]{margin-bottom:8px}",""]),o.locals={},t.exports=o},1250:function(t,e,r){"use strict";r(1190)},1251:function(t,e,r){var o=r(6)((function(i){return i[1]}));o.push([t.i,".request-page[data-v-8161673c]{padding:32px 40px}@media(max-width:480px){.request-page[data-v-8161673c]{padding:24px 20px}}.request-page .container[data-v-8161673c]{max-width:688px;padding:0;width:100%}.request-page h1[data-v-8161673c]{color:#000;font-size:24px;font-weight:700;letter-spacing:-.005em;line-height:32px;margin-bottom:24px}.request-page .empty[data-v-8161673c]{align-items:center;display:flex;flex-direction:column;justify-content:center;margin:64px 0;padding:0 16px;text-align:center}.request-page .empty__detail[data-v-8161673c]{font-size:16px;line-height:24px;max-width:360px}.request-page .empty__icon[data-v-8161673c]{height:48px;margin:0 auto 16px;width:48px}.request-page .empty__title[data-v-8161673c]{font-size:18px;font-weight:700;line-height:24px;margin-bottom:8px}",""]),o.locals={},t.exports=o},1347:function(t,e,r){"use strict";r.r(e);r(13),r(8),r(80),r(18),r(53),r(97),r(16),r(12),r(20),r(14),r(22);var o=r(4),n=r(10),c=r(5),l=(r(57),r(17),r(33),r(63)),d=r.n(l),f=r(11),h=r(43),m=r(42),v={name:"IntersectionObserver",props:{displayLoader:{type:Boolean,default:!0}},data:function(){return{intersectionObserver:null}},mounted:function(){var t=this;this.intersectionObserver=new IntersectionObserver((function(){t.debouncedEmit()}),{rootMargin:"0px",threshold:1}),this.intersectionObserver.observe(this.$refs.iotrigger)},methods:{debouncedEmit:r.n(m).a.debounce((function(){this.displayLoader&&this.$emit("infinite")}),300,{leading:!0,trailing:!1})},beforeDestroy:function(){this.intersectionObserver.disconnect()}},_=(r(1238),r(2)),y=Object(_.a)(v,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"ouch__intersection-observer"},[t._t("default"),e("div",{ref:"iotrigger",staticClass:"ouch__intersection-observer-trigger"},[t.displayLoader?e("ouch-loader",{attrs:{size:24,width:4}}):t._e()],1)],2)}),[],!1,null,null,null).exports,x={name:"OuchVoteInvite",data:function(){return{author:null}},mounted:function(){var t=this;this.$nextTick((function(){t.$emit("load")}))}},w=(r(1240),Object(_.a)(x,(function(){var t=this,e=t._self._c;return e("ouch-toast",{staticClass:"vote-toast",attrs:{name:"vote-invite",affectsScroll:!1},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",{staticClass:"vote-toast__wrapper"},[e("div",{staticClass:"vote-toast__icon",domProps:{innerHTML:t._s(t.$icons["request/request-vote-up"])}}),e("div",{staticClass:"vote-toast__title semi-bold"},[t._v("You can vote for the illustrations")]),e("div",{staticClass:"vote-toast__subtitle"},[t._v("The requested illustrations with the most votes we draw first")])])]},proxy:!0}])})}),[],!1,null,"715fbc54",null).exports),k=(r(29),r(38),r(25),r(55),r(40),r(54),r(35),r(30),r(249),r(59),r(84),r(1160)),C=["Bonbon","Bubble gum","Sammy","Bloom","Jelly","Space","Handy","Lagom","Bonbon line","Willowy","Dazzle","Inky","Lounge","Transistor","Dizzy","Woolly","Looney","Abstract","Pablo","Taxi","Pablita","Clip","Marginalia","Urban","Urban Line"];function T(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return O(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,c=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){l=!0,n=t},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw n}}}}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var M={name:"RequestForm",components:{ouchStylesDropdown:function(){return r.e(1).then(r.bind(null,1364))},requestAutocompletes:function(){return r.e(27).then(r.bind(null,1365))},requestCheckbox:function(){return r.e(28).then(r.bind(null,1366))},requestPopup:function(){return r.e(0).then(r.bind(null,1367))},requestPreviewImage:function(){return r.e(29).then(r.bind(null,1368))},requestTextareaAutosize:function(){return r.e(30).then(r.bind(null,1369))}},props:{user:{type:Object,required:!0}},data:function(){return{autocompletes:{loading:!1,items:[],page:1,show:!1,total:0},currentStyleID:null,comment:"",error:null,files:[],filesUploading:!1,searchHandler:null,title:"",update:!1,preventShowAutocompletes:!1}},computed:{filteredStyles:function(){return C},limitAttach:function(){return this.files.length>=9}},watch:{files:{deep:!0,handler:"checkIfAllFilesPreviewsLoaded"},title:function(){this.autocompletes.page=1,this.searchHandler()}},mounted:function(){var t=this;this.searchHandler=Object(h.debounce)((function(){t.searchAutocompletes()}),500),this.$nextTick((function(){t.focusOnTitle()}))},methods:{checkIfAllFilesPreviewsLoaded:function(){var t=!0;this.files.forEach((function(e){e.preview||(t=!1)})),t&&(this.filesUploading=!1)},checkFilesSizes:function(t){var e,r=!0,o=T(t);try{for(o.s();!(e=o.n()).done;){if((e.value.size/1048576).toFixed(2)>1)return r=!1}}catch(t){o.e(t)}finally{o.f()}return r},focusOnTitle:function(){var t=this.$refs["request-title"];t&&t.focus()},focusOnComment:function(){var t=this.$refs["request-comment"];null!=t&&t.$el&&t.$el.focus()},onImageSelect:function(t){var e=this;return Object(c.a)(regeneratorRuntime.mark((function r(){var o,c,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.user.isGuest){r.next=2;break}return r.abrupt("return",Object(k.g)());case 2:if(e.filesUploading=!0,o=e,c=Object(n.a)(t.target.files),e.checkFilesSizes(c)){r.next=11;break}return e.error="Image is too large. Try another one.",e.filesUploading=!1,e.$refs.attach.value="",setTimeout((function(){e.error=null}),2e3),r.abrupt("return");case 11:l=e.files.length,c.forEach((function(t,r){e.files.push({file:t,preview:"",id:Date.now()});var n=new FileReader,c=r+l;n.onload=function(){o.files[c].preview=n.result},n.readAsDataURL(t)}));case 13:case"end":return r.stop()}}),r)})))()},onLoadMore:function(){this.autocompletes.page+=1,this.searchAutocompletes()},onStyleChange:function(style){this.currentStyleID=null==style?void 0:style.id},removeImage:function(t){this.files.splice(t,1)},removeShakeClassOnElements:function(){this.$refs["request-title"].classList.remove("shake"),this.$refs["request-styles"].$el.classList.remove("shake"),this.$refs["request-comment"].$el.classList.remove("shake")},resetForm:function(){this.currentStyleID=null,this.title="",this.comment="",this.files=[]},searchAutocompletes:function(){var t=this;if(this.title){this.autocompletes.loading=!0;var e={page:this.autocompletes.page,per_page:10,search:this.title,sort:"rating"};this.$requestRepository.index(e).then((function(e){t.autocompletes.total=e.total,t.autocompletes.items=1===t.autocompletes.page?e.requests:[].concat(Object(n.a)(t.autocompletes.items),Object(n.a)(e.requests)),t.autocompletes.show=!!e.requests.length&&!t.preventShowAutocompletes})).catch((function(t){return console.error(t)})).finally((function(){t.autocompletes.loading=!1}))}},sendRequest:function(){var t=this;if(this.user.isGuest)return Object(k.g)();if(this.removeShakeClassOnElements(),setTimeout((function(){t.removeShakeClassOnElements()}),1e3),!this.title)return this.focusOnTitle(),this.$refs["request-title"].classList.add("shake");if(!this.comment)return this.focusOnComment(),this.$refs["request-comment"].$el.classList.add("shake");if(!this.currentStyleID)return this.$refs["request-styles"].$el.classList.add("shake");this.filesUploading=!0;var e=new FormData;e.append("title",this.title),e.append("comment",this.comment),this.currentStyleID&&e.append("style_ids",this.currentStyleID),this.files.forEach((function(t){return e.append("samples[][file]",t.file)})),this.$axios.$post("illustration-requests",e).then((function(){t.update=!t.update,t.resetForm(),t.$emit("list:update")})).finally((function(){t.filesUploading=!1}))},triggerAttach:function(){if(this.user.isGuest)return Object(k.g)();this.limitAttach||this.error||this.$refs.attach.click()}}},I=(r(1242),Object(_.a)(M,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"request"},[e("form",{on:{submit:function(t){return t.preventDefault(),function(){}.apply(null,arguments)}}},[e("div",{staticClass:"request__fields"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.title,expression:"title",modifiers:{trim:!0}}],ref:"request-title",staticClass:"request__title",attrs:{type:"text",placeholder:"Illustration title"},domProps:{value:t.title},on:{blur:[function(e){t.preventShowAutocompletes=!0},function(e){return t.$forceUpdate()}],focus:function(e){t.preventShowAutocompletes=!1},input:function(e){e.target.composing||(t.title=e.target.value.trim())}}}),t.autocompletes.show?e("request-autocompletes",{attrs:{autocompletes:t.autocompletes.items,loading:t.autocompletes.loading,total:t.autocompletes.total},on:{close:function(e){t.autocompletes.show=!1},"load:more":t.onLoadMore}}):t._e(),e("request-textarea-autosize",{ref:"request-comment",staticClass:"request__textarea",attrs:{maxHeight:300,maxLength:256,placeholder:"How do you see this illustration?",autocomplete:"off"},model:{value:t.comment,callback:function(e){t.comment="string"==typeof e?e.trim():e},expression:"comment"}}),t.files.length?e("div",{staticClass:"request__preview"},t._l(t.files,(function(image,r){return e("request-preview-image",{key:image.id,attrs:{image:image.preview},on:{"image:remove":function(e){return t.removeImage(r)}}})})),1):t._e(),e("div",{staticClass:"request__controls"},[e("div",{staticClass:"request__controls--left"},[e("ouch-styles-dropdown",{key:t.update,ref:"request-styles",attrs:{"change-route":!1,title:"Choose style","styles-list":t.filteredStyles},on:{change:t.onStyleChange}})],1),e("div",{staticClass:"request__controls--right"},[e("button",{ref:"request-attach",staticClass:"button white request__attach",attrs:{disabled:t.filesUploading||t.error},on:{click:t.triggerAttach}},[e("div",{staticClass:"icon",domProps:{innerHTML:t._s(t.$icons["request/request-attach"])}}),t._v("Attach images")]),e("button",{staticClass:"button request__send-request yellow",on:{click:t.sendRequest}},[t._v("Send request")])])]),t.error?e("div",{staticClass:"request__error"},[e("div",{staticClass:"request__error-icon",domProps:{innerHTML:t._s(t.$icons["request/request-error"])}}),e("div",{staticClass:"request__error-text"},[t._v(t._s(t.error))])]):t._e()],1)]),e("input",{ref:"attach",staticClass:"request__input-attach",attrs:{type:"file",name:"images",multiple:"",accept:".jpg,.png,.svg"},on:{change:t.onImageSelect}})])}),[],!1,null,"c01ff61e",null)),S=I.exports,A=(r(37),{name:"RequestPlaceholder",props:{width:{type:Number,default:300},height:{type:Number,default:150},primaryColor:{type:String,default:"#ecebeb"},secondaryColor:{type:String,default:"#f3f3f3"}},computed:{hasSlot:function(){return this.$slots.default},idGradient:function(){return this.uid()},idClip:function(){return this.uid()}},methods:{uid:function(){return Math.random().toString(36).substring(2)}}}),L=(r(1244),Object(_.a)(A,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"request-placeholder"},[e("svg",{attrs:{viewBox:"0 0 ".concat(t.width," ").concat(t.height),preserveAspectRatio:"xMidYMid meet"}},[e("rect",{style:"fill: url(#".concat(t.idGradient,")"),attrs:{"clip-path":"url(#".concat(t.idClip,")"),x:"0",y:"0",width:t.width,height:t.height}}),e("defs",[e("clipPath",{attrs:{id:t.idClip}},[t.hasSlot?[t._t("default")]:[e("rect",{attrs:{x:"0",y:"0",rx:"5",ry:"5",width:t.width,height:t.height}})]],2),e("linearGradient",{attrs:{id:t.idGradient}},[e("stop",{attrs:{offset:"-0.83638","stop-color":t.primaryColor,"stop-opacity":"1"}},[e("animate",{attrs:{attributeName:"offset",values:"-2; 1",dur:"1.3s",repeatCount:"indefinite"}})]),e("stop",{attrs:{offset:"-0.33638","stop-color":t.secondaryColor,"stop-opacity":"1"}},[e("animate",{attrs:{attributeName:"offset",values:"-1.5; 1.5",dur:"1.3s",repeatCount:"indefinite"}})]),e("stop",{attrs:{offset:"0.16362","stop-color":t.primaryColor,"stop-opacity":"1"}},[e("animate",{attrs:{attributeName:"offset",values:"-1; 2",dur:"1.3s",repeatCount:"indefinite"}})])],1)],1)])])}),[],!1,null,"1497461c",null).exports),D=(r(58),r(36),r(46),{name:"RequestPost",components:{requestPopup:function(){return r.e(0).then(r.bind(null,1367))}},props:{post:{type:Object,required:!0},user:{type:Object,required:!0},makers:{type:Array,default:function(){return[]}}},data:function(){var t,e,r,o,n;return{makerId:null===(t=this.post)||void 0===t||null===(e=t.author)||void 0===e?void 0:e.id,makerEmail:null===(r=this.post)||void 0===r?void 0:r.user_email,rating:(null===(o=this.post)||void 0===o?void 0:o.rating)||0,toggleVoted:null===(n=this.post)||void 0===n?void 0:n.voted,voting:!1}},computed:{isAdmin:function(){var t,e,r;return(null===(t=this.user)||void 0===t?void 0:t.isAdmin)||(null===(e=this.user)||void 0===e?void 0:e.isSuperDesigner)||(null===(r=this.user)||void 0===r?void 0:r.isDesigner)},isAssignedToMe:function(){var t,e,r=this,o=this.makers.find((function(t){var e;return t.email===(null===(e=r.user)||void 0===e?void 0:e.email)}));return!!o&&o.id===(null===(t=this.post)||void 0===t||null===(e=t.author)||void 0===e?void 0:e.id)},isNotAssigned:function(){return!this.makerId&&!this.isAssignedToMe},isDone:function(){return"done"===this.post.status},isMyRequest:function(){return this.post.user_email===this.user.email},myID:function(){var t=this,e=(this.makers||[]).find((function(e){var r;return e.email===(null===(r=t.user)||void 0===r?void 0:r.email)}));return null==e?void 0:e.id},postClasses:function(){return{"is-done":this.isDone,"is-voted-by-me":!this.isDone&&this.post.voted}},styleIcon:function(){var t,e,r;return null===(t=this.post.styles)||void 0===t||null===(e=t[0])||void 0===e||null===(r=e.icon)||void 0===r?void 0:r.url},styles:function(){return this.post.styles.length?this.post.styles.map((function(s){return s.title})).join(", "):null},postLink:function(){var t=this.post.title.replace(/[,.%()\n'"]/gi,""),e=Object(h.normalizeValue)(t).replace(/[?#]/gi,"-");return e?encodeURI("/illustrations/request-illustration/".concat(e,"--id-").concat(this.post.id)):encodeURI("/illustrations/request-illustration/".concat(this.post.id))},sortedMakers:function(){return(Object(n.a)(this.makers||[])||[]).sort((function(a,b){return(a.name||a.email).localeCompare(b.name||b.email)}))},popupMakerName:function(){var t=this;if(this.isAssignedToMe)return"Me";if(this.makerId&&this.makers.length){var e=this.makers.find((function(e){return t.makerId===e.id}));return(null==e?void 0:e.name)||(null==e?void 0:e.email)}return"No assignee"}},methods:{toggleVote:function(){var t=this;if(!this.voting){if(this.user.isGuest)return Object(k.g)();this.voting=!0,this.$axios.$put("illustration-requests/".concat(this.post.id,"/vote?value=").concat(!this.toggleVoted)).then((function(e){t.rating=e.rating,t.post.voted=!t.toggleVoted,t.toggleVoted=!t.toggleVoted})).finally((function(){t.voting=!1}))}},selectMaker:function(t){var e=this;this.makerId=t||"",this.$refs.makersPopup.close(),this.$axios.$put("illustration-requests/".concat(this.post.id),{author_id:this.makerId}).then((function(){e.post.author.id=t}))}}}),$=(r(1246),Object(_.a)(D,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"post"},[e("div",{staticClass:"post__body"},[e("button",{staticClass:"post__upvote",class:t.postClasses,on:{click:function(e){return e.preventDefault(),t.toggleVote.apply(null,arguments)}}},[e("div",{staticClass:"post__upvote-icon",domProps:{innerHTML:t._s(t.$icons["".concat(t.isDone?"checkmarkThin":"request/request-vote")])}}),e("div",{class:[t.isDone?"post__upvote-done":"post__upvote-count"]},[t._v(t._s(t.isDone?"Done!":t.rating))])]),e("div",{staticClass:"post__content"},[e("nuxt-link",{staticClass:"post__title",attrs:{to:t.postLink}},[t._v(t._s(t.post.title))]),e("nuxt-link",{staticClass:"post__detail",attrs:{to:t.postLink}},[t._v(t._s(t.post.comment))]),e("div",{staticClass:"post__footer"},[t.styles?e("div",{staticClass:"post__packs"},[e("img",{staticClass:"post__style-icon",attrs:{src:t.styleIcon}}),e("div",{staticClass:"text"},[t._v(t._s(t.styles))])]):t._e(),t.isAdmin?[t.makers?e("div",{staticClass:"post__designer"},[e("i",{staticClass:"icon",domProps:{innerHTML:t._s(t.$icons["request/request-user"])}}),e("div",{staticClass:"text"},[t._v("Assigned to")]),e("div",{staticClass:"post-popup assign"},[e("request-popup",{ref:"makersPopup",scopedSlots:t._u([{key:"summary",fn:function(){return[t._v(t._s(t.popupMakerName))]},proxy:!0},{key:"content",fn:function(){return[e("div",{staticClass:"simplebar-scroll-content"},[t.myID?e("div",{staticClass:"item",class:{"is-active":t.isAssignedToMe},on:{click:function(e){return e.preventDefault(),t.selectMaker(t.myID)}}},[e("div",{staticClass:"text"},[t._v("Me")]),e("div",{staticClass:"is-checked",domProps:{innerHTML:t._s(t.$icons.checkmarkThin)}})]):t._e(),e("div",{staticClass:"item",class:{"is-active":t.isNotAssigned},on:{click:function(e){return e.preventDefault(),t.selectMaker(null)}}},[e("div",{staticClass:"text"},[t._v("Nobody")]),e("div",{staticClass:"is-checked",domProps:{innerHTML:t._s(t.$icons.checkmarkThin)}})]),e("div",{staticClass:"item-divider"}),t._l(t.sortedMakers,(function(r){return e("div",{key:r.id,staticClass:"item",class:{"is-active":r.id===t.makerId},on:{click:function(e){return e.preventDefault(),t.selectMaker(r.id)}}},[e("div",{staticClass:"text"},[t._v(t._s(r.name||r.email))]),e("div",{staticClass:"is-checked",domProps:{innerHTML:t._s(t.$icons.checkmarkThin)}})])}))],2)]},proxy:!0}],null,!1,990712782)})],1)]):t._e()]:t.isMyRequest?[e("div",{staticClass:"post__self"},[e("i",{domProps:{innerHTML:t._s(t.$icons["request/request-user"])}}),e("span",[t._v("My request")])])]:t._e()],2)],1)])])}),[],!1,null,"b911ea4a",null)),P=$.exports,R={name:"RequestSearch",components:{OuchCheckbox:r(239).a,requestPopup:function(){return r.e(0).then(r.bind(null,1367))},ouchStylesDropdown:function(){return r.e(1).then(r.bind(null,1364))}},props:{loading:{type:Boolean,default:!0},makers:{type:Array,default:function(){return[]}},posts:{type:Array,default:function(){return[]}},user:{type:Object,required:!0},value:{type:String,default:""}},data:function(){return{sortParams:[{name:"Recent",value:"recent"},{name:"Most wanted",value:"rating"}],sortBy:1,filterParams:[{name:"All requests",value:"all"},{name:"To be done",value:"to-be-done",onlyUser:!0},{name:"Finished",value:"done"}],filterBy:1,assignedTo:"all",isMine:!1}},computed:{filteredStyles:function(){return C},isAdmin:function(){return this.user.isAdmin||this.user.isSuperDesigner||this.user.isDesigner},isAssignedToMe:function(){return!1},isGuest:function(){return this.user.isGuest},isDesigner:function(){return this.user.isDesigner},myID:function(){var t=this,e=(this.makers||[]).find((function(e){var r;return e.email===(null===(r=t.user)||void 0===r?void 0:r.email)}));return null==e?void 0:e.id},showMineCheckbox:function(){var t,e,r=this;return!this.loading&&(!(null===(t=this.posts)||void 0===t||null===(e=t.filter((function(p){var t;return p.user_email===(null===(t=r.user)||void 0===t?void 0:t.email)})))||void 0===e||!e.length)&&!this.isGuest)},selectedAssign:function(){var t=this;if("all"===this.assignedTo)return"All";if("nobody"===this.assignedTo)return"Nobody";if("me"===this.assignedTo)return"Me";var e=this.makers.find((function(e){return e.id===t.assignedTo}));return(null==e?void 0:e.name)||(null==e?void 0:e.email)},sortedMakers:function(){return(Object(n.a)(this.makers||[])||[]).sort((function(a,b){return(a.name||a.email).localeCompare(b.name||b.email)}))}},watch:{assignedTo:function(t){this.$emit("request:assign",t),this.$refs.assignPopup.close()},isMine:function(t){this.$emit("request:mine",t)}},methods:{onStyleChange:function(style){this.$emit("request:style",style)},resetSearch:function(){this.$emit("input",""),this.$refs.input.focus()},sendSearch:function(t){this.sortBy=0,this.filterBy=0,this.$emit("input",t.target.value)},sendFilter:function(t){this.filterBy=t,this.$emit("request:filter",this.filterParams[t].value),this.$refs.filterPopup.close()},sendSort:function(t){this.sortBy=t,this.$emit("request:sort",this.sortParams[this.sortBy].value),this.$refs.sortPopup.close()}}},j=(r(1248),Object(_.a)(R,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"request-search"},[e("form",{staticClass:"request-search__form",on:{submit:function(t){return t.preventDefault(),function(){}.apply(null,arguments)}}},[e("input",{ref:"input",attrs:{type:"text",placeholder:"Search requested illustrations",spellcheck:"false"},domProps:{value:t.value},on:{input:t.sendSearch}}),t.value.length?e("button",{staticClass:"request-search__clear",attrs:{type:"button"},domProps:{innerHTML:t._s(t.$icons.cancel)},on:{click:t.resetSearch}}):t._e()]),e("div",{staticClass:"request-search__params"},[e("div",{staticClass:"request-search__param"},[e("div",{staticClass:"request-search__param-name"},[t._v("Sorting by")]),e("div",{staticClass:"request-search__param-popup"},[e("request-popup",{ref:"sortPopup",scopedSlots:t._u([{key:"summary",fn:function(){return[t._v(t._s(t.sortParams[t.sortBy].name))]},proxy:!0},{key:"content",fn:function(){return t._l(t.sortParams,(function(r,o){return e("div",{staticClass:"item",class:{"is-active":t.sortBy===o},on:{click:function(e){return e.preventDefault(),t.sendSort(o)}}},[t._v(t._s(r.name)),t.sortBy===o?e("div",{staticClass:"icon-check",domProps:{innerHTML:t._s(t.$icons.checkmarkThin)}}):t._e()])}))},proxy:!0}])})],1)]),e("div",{staticClass:"request-search__param"},[e("div",{staticClass:"request-search__param-name"},[t._v("Showing")]),e("div",{staticClass:"request-search__param-popup is-filter"},[e("request-popup",{ref:"filterPopup",scopedSlots:t._u([{key:"summary",fn:function(){return[t._v(t._s(t.filterParams[t.filterBy].name))]},proxy:!0},{key:"content",fn:function(){return t._l(t.filterParams,(function(filter,r){return e("div",{key:r,staticClass:"item",class:{"is-active":t.filterBy===r},on:{click:function(e){return e.preventDefault(),t.sendFilter(r)}}},[t._v(t._s(filter.name)),t.filterBy===r?e("div",{staticClass:"icon-check",domProps:{innerHTML:t._s(t.$icons.checkmarkThin)}}):t._e()])}))},proxy:!0}])})],1)]),e("div",{staticClass:"request-search__param"},[e("div",{staticClass:"request-search__param-name"},[t._v("Showing")]),e("div",{staticClass:"request-search__param-popup has-styles"},[e("ouch-styles-dropdown",{ref:"request-styles",attrs:{"change-route":!1,title:"All styles","styles-list":t.filteredStyles},on:{change:t.onStyleChange}})],1)]),t.isAdmin?e("div",{staticClass:"request-search__param"},[e("div",{staticClass:"request-search__param-name"},[t._v("Assigned to")]),e("div",{staticClass:"request-search__param-popup assign-popup"},[e("request-popup",{ref:"assignPopup",scopedSlots:t._u([{key:"summary",fn:function(){return[t._v(t._s(t.selectedAssign))]},proxy:!0},{key:"content",fn:function(){return[e("div",{staticClass:"item",class:{"is-active":"all"===t.assignedTo},on:{click:function(e){e.preventDefault(),t.assignedTo="all"}}},[e("div",{staticClass:"text"},[t._v("All")]),"all"===t.assignedTo?e("div",{staticClass:"is-checked",domProps:{innerHTML:t._s(t.$icons.checkmarkThin)}}):t._e()]),t.myID?e("div",{staticClass:"item",class:{"is-active":"me"===t.assignedTo},on:{click:function(e){e.preventDefault(),t.assignedTo="me"}}},[e("div",{staticClass:"text"},[t._v("Me")]),"me"===t.assignedTo?e("div",{staticClass:"is-checked",domProps:{innerHTML:t._s(t.$icons.checkmarkThin)}}):t._e()]):t._e(),e("div",{staticClass:"item",class:{"is-active":"nobody"===t.assignedTo},on:{click:function(e){e.preventDefault(),t.assignedTo="nobody"}}},[e("div",{staticClass:"text"},[t._v("Nobody")]),"nobody"===t.assignedTo?e("div",{staticClass:"is-checked",domProps:{innerHTML:t._s(t.$icons.checkmarkThin)}}):t._e()]),e("div",{staticClass:"item-divider"}),t._l(t.sortedMakers,(function(r){return e("div",{key:r.id,staticClass:"item",class:{"is-active":r.id===t.assignedTo},on:{click:function(e){e.preventDefault(),t.assignedTo=r.id}}},[e("div",{staticClass:"text"},[t._v(t._s(r.name||r.email))]),t.assignedTo===r.id?e("div",{staticClass:"is-checked",domProps:{innerHTML:t._s(t.$icons.checkmarkThin)}}):t._e()])}))]},proxy:!0}],null,!1,2564376545)})],1)]):t._e(),t.showMineCheckbox?e("ouch-checkbox",{attrs:{label:"Only created by me"},model:{value:t.isMine,callback:function(e){t.isMine=e},expression:"isMine"}}):t._e()],1)])}),[],!1,null,"3fef11bc",null));function U(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function H(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?U(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):U(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var E={name:"RequestIllustrationsPage",components:{ouchIntersectionObserver:y,ouchVoteInvite:w,requestForm:S,requestPlaceholder:L,requestPost:P,requestSearch:j.exports},layout:"app",asyncData:function(t){return Object(c.a)(regeneratorRuntime.mark((function e(){var r,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.app,o=t.store,c=r.i18n.localeProperties.iso,l=[],o.state.styles.all.length){e.next=9;break}return e.next=6,r.$stylesRepository.index({locale:c});case 6:l=e.sent,e.next=10;break;case 9:l=Object(n.a)(o.state.styles.all);case 10:return o.dispatch("setCurrentStyles",l),e.abrupt("return",{});case 12:case"end":return e.stop()}}),e)})))()},data:function(){return{assignTo:"all",filterBy:"to-be-done",isMine:!1,loading:!0,page:1,per_page:8,posts:[],previousParams:{},search:"",searchHandler:null,searchNotfound:!1,sortBy:"rating",style:null,total:0,voteInviteLoaded:!1}},computed:H(H({},Object(f.e)({user:function(t){return t.auth.user},makers:function(t){return t.authors}})),{},{isAdmin:function(){var t,e,r;return(null===(t=this.user)||void 0===t?void 0:t.isAdmin)||(null===(e=this.user)||void 0===e?void 0:e.isSuperDesigner)||(null===(r=this.user)||void 0===r?void 0:r.isDesigner)},myID:function(){var t,e=this;return null===(t=(this.makers||[]).find((function(t){var r;return t.email===(null===(r=e.user)||void 0===r?void 0:r.email)})))||void 0===t?void 0:t.id}}),watch:{user:{immediate:!0,handler:function(t){t.loaded&&(this.fetchRequests(),this.isAdmin&&this.fetchMakers())}},search:function(t){if(0===t.length)return this.page=1,this.posts=[],void this.fetchRequests();this.searchHandler()},voteInviteLoaded:function(t){t&&this.showVoteInvite()}},mounted:function(){var t=this;this.searchHandler=Object(h.debounce)((function(){t.doSearch()}),500)},methods:{loadMore:function(){var t=this;this.loadMoreIteration(),this.$nextTick((function(){t.total<=t.posts.length&&t.total>0||t.loadMoreIteration()}))},loadMoreIteration:function(){this.page+=1,this.fetchRequests()},fetchRequests:function(){var t,e=this,r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).force,o=void 0!==r&&r;o&&(this.page=1);var c={filter:this.filterBy,page:this.page,per_page:this.per_page,sort:this.sortBy};if(this.search&&(c.search=this.search),null!==(t=this.style)&&void 0!==t&&t.pretty_id&&(c.style_pretty_ids=this.style.pretty_id),this.isMine&&(c.only_mine=!0),"all"!==this.assignTo){var l="nobody"===this.assignTo?"":"me"===this.assignTo?this.myID:this.assignTo;c.author_id=l}(o||JSON.stringify(c)!==JSON.stringify(this.previousParams))&&(this.previousParams=H({},c),this.$requestRepository.index(c).then((function(t){e.total=t.total,e.posts=e.page>1?[].concat(Object(n.a)(e.posts),Object(n.a)(t.requests)):t.requests||[],e.searchNotfound=!e.posts.length})).catch((function(t){return console.error(t)})).finally((function(){e.loading=!1})))},fetchMakers:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.makers.length){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,d.a.request({method:"get",baseURL:"https://api-ouch.icons8.com/api/admin/v1",url:"users",params:{page:1,per_page:200,role:"admin"},withCredentials:!0});case 5:o=e.sent,t.$store.commit("SET_AUTHORS",(null==o||null===(r=o.data)||void 0===r?void 0:r.users)||[]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))()},showVoteInvite:function(){localStorage.getItem("icons8:ouch:requestFirstVisit")||(this.$ouchToast.show("vote-invite",{}),localStorage.setItem("icons8:ouch:requestFirstVisit",Date.now()))},assign:function(param){this.assignTo=param,this.page=1,this.fetchRequests()},doSearch:function(){this.page=1,this.fetchRequests()},filter:function(param){this.filterBy=param,this.page=1,this.fetchRequests()},onMyChange:function(t){this.isMine=t,this.page=1,this.fetchRequests()},onStyleChange:function(style){this.style=style,this.page=1,this.fetchRequests()},sort:function(param){this.sortBy=param,this.page=1,this.fetchRequests()}}},B=E,z=(r(1250),Object(_.a)(B,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"request-page"},[e("div",{staticClass:"container"},[e("h1",[t._v("Request illustration")]),e("ouch-vote-invite",{on:{load:function(e){t.voteInviteLoaded=!0}}}),e("request-form",{attrs:{user:t.user},on:{"list:update":function(e){return t.fetchRequests({force:!0})}}}),e("request-search",{attrs:{loading:t.loading,makers:t.makers,posts:t.posts,user:t.user},on:{"request:assign":t.assign,"request:filter":t.filter,"request:mine":t.onMyChange,"request:sort":t.sort,"request:style":t.onStyleChange},model:{value:t.search,callback:function(e){t.search="string"==typeof e?e.trim():e},expression:"search"}}),e("div",{staticClass:"request-list"},[t.loading?[e("div",{ref:"placeholders",staticClass:"request-placeholders"},t._l(3,(function(i){return e("request-placeholder",{key:i,attrs:{width:686,height:112}},[e("rect",{attrs:{x:"89",y:"100",rx:"4",ry:"4",width:"140",height:"12"}}),e("rect",{attrs:{x:"89",y:"68",rx:"4",ry:"4",width:"493",height:"12"}}),e("rect",{attrs:{x:"89",y:"44",rx:"4",ry:"4",width:"527",height:"12"}}),e("rect",{attrs:{x:"89",y:"0",rx:"4",ry:"4",width:"597",height:"24"}}),e("rect",{attrs:{x:"0",y:"0",rx:"4",ry:"4",width:"65",height:"72"}})])})),1)]:t.posts.length?[e("ouch-intersection-observer",{attrs:{"display-loader":t.total>t.posts.length},on:{infinite:t.loadMore}},t._l(t.posts,(function(r,o){return e("request-post",{key:r.id,attrs:{makers:t.makers,post:r,user:t.user}})})),1)]:t.searchNotfound?[e("div",{staticClass:"empty"},[e("div",{staticClass:"empty__icon",domProps:{innerHTML:t._s(t.$icons["request/request-search"])}}),e("div",{staticClass:"empty__title"},[t._v("No requests found")]),e("div",{staticClass:"empty__detail"},[t._v("Create one in the form above")])])]:t._e()],2)],1)])}),[],!1,null,"8161673c",null));e.default=z.exports}}]);
//# sourceMappingURL=index.63bc5c4b598af20d14bc.js.map